<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="../css/default_reset.css" />
        <link rel="stylesheet" href="../css/game.css" />
        <title>Remake Space Invaders</title>
    </head>
    <body>
        <div class="container-game">
            <canvas id="screen" width="34" height="17"></canvas>
        </div>
    </body>
</html>
<script type="module">
    // Import Client Modules
    import create_game from "../js/game_layer/brules_game.js";
    import create_keyboard_listener from "../js/game_layer/input_user_keyboard.js";
    import render_screen from "../js/game_layer/render_screen.js";

    // Public Methods/Functions
    const game = create_game();
    const keyboardListener = create_keyboard_listener(document);
    keyboardListener.subscribe(game.player_accepted_moves);

    // Canvas Specs/Repaints
    const screen = document.getElementById("screen");
    render_screen(screen, game, requestAnimationFrame);
    game.game_start();

    // const network = create_network();          --- Simulação de uma camada de servidor
    // keyboard_listener.subscribe(network.update);   -- Simulação de uma camada de servidor

    // FIXME: Integrar isso com os usernames do Servidor MySQL
    game.add_player({ playerId: "player1", playerX: 8, playerY: 16 });
</script>
